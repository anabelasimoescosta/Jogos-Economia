<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Miss√£o Economia: O Caso da Escola</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(to right, #4facfe, #00f2fe);
    margin: 0;
    padding: 0;
    text-align: center;
    color: #333;
}

.container {
    max-width: 700px;
    margin: 40px auto;
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}

h1, h2 {
    color: #005f99;
}

button {
    padding: 10px 15px;
    margin: 8px 0;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
}

.optionBtn {
    display: block;
    width: 100%;
    background-color: #e6f2ff;
}

.optionBtn:hover {
    background-color: #cce6ff;
}

#progressBar {
    width: 100%;
    background-color: #ddd;
    border-radius: 10px;
    margin: 15px 0;
}

#progress {
    height: 20px;
    width: 0%;
    background-color: #28a745;
    border-radius: 10px;
}

.hidden {
    display: none;
}

#feedback {
    font-weight: bold;
    margin-top: 15px;
}
</style>
</head>

<body>

<div id="cover" class="container">
    <h1>üìö Miss√£o Economia</h1>
    <h2>O Caso do Or√ßamento Desaparecido</h2>
    <p>
        O or√ßamento da escola desapareceu misteriosamente!  
        Para resolver o caso, tens de provar que percebes de Economia,
        Impostos e Gest√£o.
    </p>
    <button onclick="startGame()">Come√ßar Jogo</button>
</div>

<div id="game" class="container hidden">
    <h2 id="question"></h2>
    <div id="progressBar"><div id="progress"></div></div>
    <p id="questionNumber"></p>
    <div id="options"></div>
    <p id="feedback"></p>
</div>

<div id="result" class="container hidden">
    <h2>Resultado Final</h2>
    <p id="scoreText"></p>
    <button onclick="location.reload()">Jogar Novamente</button>
</div>

<script>
const questions = [
{q:"O que √© um imposto?", o:["Dinheiro volunt√°rio","Valor pago ao Estado","Multa","Doa√ß√£o"], a:1},
{q:"O IVA √© um imposto sobre:", o:["Sal√°rios","Consumo","Propriedades","Lucros"], a:1},
{q:"O que significa lucro?", o:["Dinheiro perdido","Receitas menos despesas","Imposto","D√≠vida"], a:1},
{q:"O que √© poupan√ßa?", o:["Guardar dinheiro","Gastar tudo","Pedir empr√©stimo","Pagar multa"], a:0},
{q:"O que √© um or√ßamento?", o:["Plano financeiro","Conta banc√°ria","Lucro","Multa"], a:0},
{q:"Quem cobra impostos em Portugal?", o:["Empresas","Estado","Bancos","Escolas"], a:1},
{q:"O que √© contabilidade?", o:["Registo financeiro","Crime","Jogo","Imposto"], a:0},
{q:"O que √© gest√£o?", o:["Organizar recursos","Gastar dinheiro","Ignorar contas","Multar"], a:0},
{q:"Se uma empresa tem mais despesas que receitas tem:", o:["Lucro","Preju√≠zo","Poupan√ßa","Equil√≠brio"], a:1},
{q:"O que √© investimento?", o:["Aplicar dinheiro para ganhar mais","Guardar no bolso","Gastar tudo","Pagar imposto"], a:0},

// Mais dif√≠ceis
{q:"Se faturar 10.000‚Ç¨ e gastar 7.000‚Ç¨, o lucro √©:", o:["3.000‚Ç¨","7.000‚Ç¨","10.000‚Ç¨","17.000‚Ç¨"], a:0},
{q:"23% de 100‚Ç¨ √©:", o:["23‚Ç¨","77‚Ç¨","100‚Ç¨","123‚Ç¨"], a:0},
{q:"O que √© um ativo?", o:["D√≠vida","Bem ou direito","Imposto","Despesa"], a:1},
{q:"O que √© um passivo?", o:["Lucro","D√≠vida","Receita","Investimento"], a:1},
{q:"Se poupares 50‚Ç¨ por m√™s durante 12 meses tens:", o:["600‚Ç¨","500‚Ç¨","120‚Ç¨","50‚Ç¨"], a:0},
{q:"O IRS √© um imposto sobre:", o:["Rendimento","Consumo","Produtos","Casas"], a:0},
{q:"Se n√£o pagares impostos podes:", o:["Ganhar pr√©mio","Nada acontecer","Pagar multa","Receber desconto"], a:2},
{q:"Uma empresa sem lucro durante muito tempo pode:", o:["Falir","Crescer sempre","Ganhar pr√©mio","Ignorar contas"], a:0},
{q:"Receitas s√£o:", o:["Entradas de dinheiro","Sa√≠das de dinheiro","D√≠vidas","Impostos"], a:0},
{q:"Despesas s√£o:", o:["Entradas de dinheiro","Lucro","Sa√≠das de dinheiro","Investimentos"], a:2}
];

let currentQuestion = 0;
let score = 0;

function startGame(){
    document.getElementById("cover").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");
    showQuestion();
}

function showQuestion(){
    let q = questions[currentQuestion];
    document.getElementById("question").innerText = q.q;
    document.getElementById("questionNumber").innerText =
        "Quest√£o " + (currentQuestion+1) + " de " + questions.length;

    document.getElementById("progress").style.width =
        (currentQuestion/questions.length)*100 + "%";

    let optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";
    document.getElementById("feedback").innerText = "";

    q.o.forEach((option,index)=>{
        let btn = document.createElement("button");
        btn.innerText = option;
        btn.className="optionBtn";
        btn.onclick=()=>selectAnswer(index);
        optionsDiv.appendChild(btn);
    });
}

function selectAnswer(index){
    let feedback = document.getElementById("feedback");

    if(index === questions[currentQuestion].a){
        score++;
        feedback.style.color = "green";
        feedback.innerText = "‚úÖ Parab√©ns!";
    } else {
        feedback.style.color = "red";
        feedback.innerText = "‚ùå ERRADO... estuda mais, este tema √© importante para a tua VIDA.";
    }

    setTimeout(()=>{
        currentQuestion++;
        if(currentQuestion < questions.length){
            showQuestion();
        } else {
            showResult();
        }
    }, 2200);
}

function showResult(){
    document.getElementById("game").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");
    document.getElementById("progress").style.width = "100%";

    document.getElementById("scoreText").innerText =
        "Pontua√ß√£o final: " + score + " / " + questions.length;
}
</script>

</body>
</html>
